\section{Requirement Analysis}

In this chapter, the requirement analysis is done to further divide the task for achieving the project. First, the general 
requirements for the project are presented and explained, followed by the identification of stakeholders to help understand 
the possible users and external factors that can affect the development of the solution. With this, the formal 
requirements are analyzed, and finally, quality attributed are specified for the validation of the system.

\subsection{General Requirements of the Project}

The minimum requirements that need to be achieved by the end of the project are:
\begin{itemize}
    \item The deployment must have real and simulated devices working together.
    \item Sensors are actuators must be used. In this sense, some must be real.
    \item The intelligence must be distributed in some nodes of the system.
    \item There must be a possibility to command the \acrshort{iot} network.
    \item Knowledge extraction from the \acrshort{iot} network must be possible.
    \item Fusion of information is needed, both in the edge and from decision support systems. 
\end{itemize}

\subsection{Stakeholder Analysis}

This project can affect several type of future users. This needs to be considered to stablish the scenarios the system will face. 

\begin{itemize}
    \item \textbf{Farmers}: The end users who will utilize the system to protect their crops and properties. The jobs these farmers carry out can differ, for example, one farmer can be the owner of the system 
    and others can just be workers that also need to access the system.
    \item \textbf{Maintenance Personnel}: If any problem appears, these users are responsible for maintaining the system and ensuring it's proper functioning.
    \item \textbf{Equipment and Sensor Suppliers}: Companies that supply necessary components, such as \acrfullr{mcu}, smoke, flame or motion sensors.
    \item \textbf{Internet Service Providers}: These companies supply the resources for edge computing and internet connectivity.
    \item \textbf{Governmental and Regulatory Organizations}: Entities that ensure the system complies with agricultural and safety regulations.
    \item \textbf{Agricultural Consultants}: Professionals who advise farmers on integrating and using the system in their agricultural practices.
    \item \textbf{Energy Suppliers}: Companies that provide energy solutions, such as solar panels, to power the system.
    \item \textbf{Local Community}: Neighbors and other local stakeholders who could indirectly benefit from the system's implementation.
    \item \textbf{Investors and Financiers}: Entities or individuals who provide the necessary funds for the system's development and implementation.
\end{itemize}

\subsection{Functional Requirements}

\begin{table}[H]
    \begin{center}
        \begin{tabular}{p{0.30\textwidth} |  p{0.30\textwidth} | p{0.30\textwidth} }
            \hline
            \multicolumn{1}{c |}{\textbf{ID}} & \multicolumn{1}{c |}{\textbf{Functional Requirement}} & \multicolumn{1}{c}{\textbf{Description}}\\
            \hline
            \makecell{FUN-FIRE-001} & \makecell{Smoke Detection} & \makecell{The system must \\detect smoke}\\
            \hline
            \makecell{FUN-FIRE-002} & \makecell{Temperature Change \\Detection} & \makecell{The system must \\detect sudden \\temperature changes}\\
            \hline
            \makecell{FUN-FIRE-003} & \makecell{Sensor Alert \\Transmission} & \makecell{Smoke and temperature \\sensors must send alerts \\to the central system}\\
            \hline
            \makecell{FUN-FIRE-004} & \makecell{Sensor Alert \\Transmission} & \makecell{Smoke and temperature \\sensors must send alerts \\to the central system}\\
            \hline
            \makecell{FUN-FIRE-005} & \makecell{Manual Sprinkler \\Activation} & \makecell{The system must allow \\ manual activation of \\ sprinklers from a \\ remote interface}\\
            \hline
            \makecell{FUN-SOIL-001} & \makecell{Soil Moisture Monitoring} & \makecell{The system must  \\ monitor soil moisture \\ continuously}\\
            \hline
            \makecell{FUN-SOIL-002} & \makecell{Soil Moisture Alert} & \makecell{The system must send \\ alerts when soil moisture \\ is below a critical \\ level}\\
            \hline
            \makecell{FUN-ANIMAL-001} & \makecell{Perimeter Animal \\ Detection} & \makecell{The system must detect \\ animals around crops \\ using motion sensors}\\
            \hline
            \makecell{FUN-ANIMAL-002} & \makecell{Animal Detection Alert} & \makecell{Sensors must send alerts \\ to the central system \\ when animal movement \\ is detected}\\
            \hline
            \makecell{FUN-ANIMAL-003} & \makecell{Automatic Animal \\ Repellent Activation} & \makecell{The system must activate \\ repellents automatically \\ when animals are detected}\\
            \hline
            \makecell{FUN-ANIMAL-004} & \makecell{Manual Repellent \\ Activation} & \makecell{The system must allow \\ manual activation of \\ repellents from a \\ remote interface}\\
            \hline
            \makecell{FUN-ALERT-001} & \makecell{Real-time \\ Notifications} & \makecell{The system must send real- \\ time alerts to farmers \\ through mobile or \\ web apps}\\
            \hline
            \makecell{FUN-ALERT-002} & \makecell{Alert Details} & \makecell{Notifications must include \\ details about the type of \\ alert and exact location}\\
            \hline
        \end{tabular} 
    \end{center}
    \caption{Functional Requirements 1}
    \label{functionalReq1}
\end{table}

\clearpage
\begin{table}[H]
    \begin{center}
        \begin{tabular}{p{0.30\textwidth} |  p{0.30\textwidth} | p{0.30\textwidth} }
            \hline
            \multicolumn{1}{c |}{\textbf{ID}} & \multicolumn{1}{c |}{\textbf{Functional Requirement}} & \multicolumn{1}{c}{\textbf{Description}}\\
            \hline
            \makecell{FUN-NET-001} & \makecell{Internet Connectivity} & \makecell{The system must connect \\ to the internet for remote \\ monitoring and control}\\
            \hline
            \makecell{FUN-NET-002} & \makecell{Communication \\ Technology} & \makecell{The system must use \\ Wi-Fi or cellular \\ communication to ensure \\ connectivity in remote \\ areas}\\
            \hline
            \makecell{FUN-NET-003} & \makecell{Lora Connectivity} & \makecell{The node system must use \\ Lora connection}\\
            \hline
            \makecell{FUN-UI-001} & \makecell{User Interface Design} & \makecell{The node system must  \\ provide a user-friendly \\ interface accessible from \\ mobile and desktop \\ devices}\\
            \hline
            \makecell{FUN-UI-002} & \makecell{Real-time Data \\ Visualization} & \makecell{The interface must display  \\ real-time data and allow \\ manual device control}\\
            \hline
            \makecell{FUN-ENERGY-001} & \makecell{Autonomous Operation} & \makecell{The system must  \\ operate autonomously \\ for prolonged periods}\\
            \hline
            \makecell{FUN-ENERGY-002} & \makecell{Renewable Energy Source} & \makecell{The system must  \\ utilize renewable energy, \\ such as solar panels, \\ to ensure continuous \\ operation}\\
            \hline
            \makecell{FUN-ENERGY-003} & \makecell{Battery Duration} & \makecell{Send battery energy}\\
            \hline
            \makecell{FUN-ENERGY-004} & \makecell{Battery Alert} & \makecell{Send low battery alert}\\
            \hline
            \makecell{FUN-DATA-001} & \makecell{Sensor Data Storage} & \makecell{The system must store \\ sensor data for analysis \\ and reporting}\\
            \hline
            \makecell{FUN-DATA-002} & \makecell{Historical Data \\ Visualization} & \makecell{Users must be able to \\ view historical data \\ in graphs and tables}\\
            \hline
            \makecell{FUN-WEATHER-001} & \makecell{Weather Data \\ Integration} & \makecell{The system must integrate \\ weather data to \\ anticipate adverse \\ conditions}\\
            \hline
            \makecell{FUN-WEATHER-002} & \makecell{Weather Alert \\ Transmission} & \makecell{The system must send \\ alerts based on weather \\ predictions}\\
            \hline
            \makecell{FUN-USER-001} & \makecell{User Management} & \makecell{The system must \\ manage multiple users}\\
            \hline
            \makecell{FUN-USER-002} & \makecell{Role-based access} & \makecell{The system must work \\ with permissions}\\
            \hline
        \end{tabular} 
    \end{center}
    \caption{Functional Requirements 2}
    \label{functionalReq2}
\end{table}

\subsection{Non-Functional Requirements}

\begin{table}[H]
    \begin{center}
        \begin{tabular}{p{0.4\textwidth} |  p{0.2\textwidth} | p{0.30\textwidth} }
            \hline
            \multicolumn{1}{c |}{\textbf{ID}} & \multicolumn{1}{c |}{\textbf{Domain}} & \multicolumn{1}{c}{\textbf{Description}}\\
            \hline
            \makecell{NFR-PF-001} & \makecell{Performance} & \makecell{The system must process \\ and respond to sensor \\ signals in real-time, \\ with a maximum delay of \\ 1 second for critical actions}\\
            \hline
            \makecell{NFR-SC-001} & \makecell{Scalability} & \makecell{The system must be \\ scalable to support an \\ increased number of \\ sensors and actuators \\ in the future without \\ affecting performance}\\
            \hline
            \makecell{NFR-RE-001} & \makecell{Reliability} & \makecell{The system must have \\ high availability, with \\ downtime not exceeding \\ 1\% annually}\\
            \hline
            \makecell{NFR-RE-002} & \makecell{Reliability} & \makecell{Redundancy mechanisms \\ must be included to \\ ensure that alerts and \\ critical actions do not \\ fail}\\
            \hline
            \makecell{NFR-MAN-001} & \makecell{Maintainability} & \makecell{The system must be easy \\ to maintain and update \\ both in hardware and \\ software}\\
            \hline
            \makecell{NFR-MAN-002} & \makecell{Maintainability} & \makecell{Manuals and detailed \\ documentation must be \\ provided to facilitate \\ maintenance tasks}\\
            \hline
            \makecell{NFR-US-001} & \makecell{Usability} & \makecell{The user interface must be \\ intuitive and easy to \\ use with a minimal \\ learning curve}\\
            \hline
            \makecell{NFR-US-002} & \makecell{Usability} & \makecell{It must be accessible from \\ mobile devices, computers \\ and be available in \\ multiple languages if \\ necessary}\\
            \hline
            \makecell{NFR-SEC-001} & \makecell{Security} & \makecell{The system must include \\ secutrity measures to \\ protect user data \\ and privacy}\\
            \hline
            \makecell{NFR-SEC-001} & \makecell{Security} & \makecell{The system must include \\ secutrity measures to \\ protect user data \\ and privacy}\\
            \hline
        \end{tabular} 
    \end{center}
    \caption{Non-Functional Requirements 1}
    \label{nonfunctionalReq1}
\end{table}

\begin{table}[H]
    \begin{center}
        \begin{tabular}{p{0.4\textwidth} |  p{0.2\textwidth} | p{0.30\textwidth} }
            \hline
            \multicolumn{1}{c |}{\textbf{ID}} & \multicolumn{1}{c |}{\textbf{Domain}} & \multicolumn{1}{c}{\textbf{Description}}\\
            \hline
            \makecell{NFR-SEC-002} & \makecell{Security} & \makecell{Data encryption must \\ be used for sensitive \\ data transmission and \\ authentication for user \\ interface access}\\
            \hline
            \makecell{NFR-COM-001} & \makecell{Compatibility} & \makecell{The system must be \\ compatible with various \\ types of sensors and \\ actuators available in \\ the market}\\
            \hline
            \makecell{NFR-COM-002} & \makecell{Compatibility} & \makecell{It must support different \\ communication protocols \\ with the nodes}\\
            \hline
            \makecell{NFR-EE-001} & \makecell{Energy Efficiency} & \makecell{The system must minimize \\ energy consumption, \\ especially if renewable \\ energy solutions such \\ as solar panels \\ are used}\\
            \hline
            \makecell{NFR-EE-002} & \makecell{Energy Efficiency} & \makecell{Components must enter \\ low-power mode when \\ not actively in use}\\
            \hline
            \makecell{NFR-POR-002} & \makecell{Portability} & \makecell{The system software must \\ be portable and able to \\ run on different \\ platforms and devices \\ without significant \\ modifications}\\
            \hline
            \makecell{NFR-LC-001} & \makecell{Legality and \\ Compliance} & \makecell{The system must comply \\ international regulations \\ and standards regarding \\ agriculture, security, and \\ privacy}\\
            \hline
        \end{tabular} 
    \end{center}
    \caption{Non-Functional Requirements 2}
    \label{nonfunctionalReq2}
\end{table}

\subsection{Operation Domain Requirements}

\begin{itemize}
    \item Interaction with the farm workers while maintaining compatibility with agricultural practices.
    \item Helping in the promotion of sustainable practices and efficient energy use.
    \item Compliance with agricultural and privacy regulations.
    \item Optimization of the use of agricultural resources.
\end{itemize}

\clearpage
\subsection{Quality attributes analysis and Impact analysis}

\begin{itemize}
    \item \textbf{Performance}:
        \begin{itemize}
            \item \textbf{Response time}: The system must process and respond to alerts in less than $1$ second.
            \item \textbf{Processing capacity}: It must handle multiple simultaneous events without degrading performance.
        \end{itemize}
    \item \textbf{Reliability}:
        \begin{itemize}
            \item \textbf{Availability}: The system must be operational at least $99 \%$ of the time.
            \item \textbf{Redundancy}: It must have backup mechanisms to ensure service continuity in case of failures.
        \end{itemize}
    \item \textbf{Security}:
        \begin{itemize}
            \item \textbf{Data protection}: All transmitted data must be encrypted.
            \item \textbf{Controlled access}: Only authorized users should be able to access and control the system.
        \end{itemize}
    \item \textbf{Scalability}:
        \begin{itemize}
            \item \textbf{Sensor expansion}: It must allow the addition of new sensors and actuators without significant changes.
            \item \textbf{User increase}: The system should support a growing number of users and connected devices. 
        \end{itemize}
    \item \textbf{Maintainability}:
        \begin{itemize}
            \item \textbf{Ease of updating}: The system must allow software updates without interrupting its operation.
            \item \textbf{Documentation}: There must be clear and detailed documentation to facilitate maintenance.
        \end{itemize}
    \item \textbf{Usability}:
        \begin{itemize}
            \item \textbf{User-friendly interface}: The interface must be intuitive and easy to use for people without technical knowledge.
            \item \textbf{Accessibility}: It must be accessible from different devices (mobile and computers).
        \end{itemize}
\end{itemize}

Based on the quality attributes presented above, each attribute has been classified according to its relevance and complexity within the system, as presented in \autoref{qualityPriorities}.

\begin{table}[H]
    \begin{center}
        \begin{tabular}{p{0.20\textwidth} |  p{0.35\textwidth}  p{0.35\textwidth} }
            \hline
            \textbf{Quality Attribute} & \multicolumn{1}{c}{\textbf{Relevance}} & \multicolumn{1}{c}{\textbf{Complexity}}\\
            \hline
            Response Time & \makecell{High} & \makecell{High}\\
            \hline
            High Processing & \makecell{High} & \makecell{Medium}\\
            \hline
            Availability & \makecell{High} & \makecell{High}\\
            \hline
            Redundancy & \makecell{High} & \makecell{Medium}\\
            \hline
            Data Protection & \makecell{Low} & \makecell{Low}\\
            \hline
            Controlled Access & \makecell{High} & \makecell{Low}\\
            \hline
            Sensor Expansion & \makecell{High} & \makecell{Medium}\\
            \hline
            User Increase & \makecell{Medium} & \makecell{High}\\
            \hline
            Ease of Updating & \makecell{High} & \makecell{High}\\
            \hline
            Documentation & \makecell{Medium} & \makecell{Medium}\\
            \hline
            Friendly UI & \makecell{High} & \makecell{Medium}\\
            \hline
            Accessibility & \makecell{High} & \makecell{Medium}\\
            \hline
        \end{tabular} 
    \end{center}
    \caption{Prioritization of Quality Attributes Based on Relevance and Complexity}
    \label{qualityPriorities}
\end{table}